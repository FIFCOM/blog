<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>FIFCOMå®éªŒå®¤</title><meta name=keywords content="Blog,FIFCOMå®éªŒå®¤,FIFCOM">
<meta name=description content="å’•â†’å’•â†‘å’•â†“â†‘å’•â†“">
<meta name=author content="FIFCOM">
<link rel=canonical href=https://blog.fifcom.cn/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<link rel=preload href="https://fifcom.cn/avatar/?transparent=1" as=image>
<link rel=icon href="https://fifcom.cn/avatar/?transparent=1">
<link rel=icon type=image/png sizes=16x16 href=https://blog.fifcom.cn/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://blog.fifcom.cn/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://blog.fifcom.cn/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://blog.fifcom.cn/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.93.2">
<link rel=alternate type=application/rss+xml href=https://blog.fifcom.cn/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="FIFCOMå®éªŒå®¤">
<meta property="og:description" content="å’•â†’å’•â†‘å’•â†“â†‘å’•â†“">
<meta property="og:type" content="website">
<meta property="og:url" content="https://blog.fifcom.cn/"><meta property="og:image" content="https://fifcom.cn/avatar/?transparent=1"><meta property="og:site_name" content="FIFCOMå®éªŒå®¤">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://fifcom.cn/avatar/?transparent=1">
<meta name=twitter:title content="FIFCOMå®éªŒå®¤">
<meta name=twitter:description content="å’•â†’å’•â†‘å’•â†“â†‘å’•â†“">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"FIFCOMå®éªŒå®¤","url":"https://blog.fifcom.cn/","description":"å’•â†’å’•â†‘å’•â†“â†‘å’•â†“","thumbnailUrl":"https://fifcom.cn/avatar/?transparent=1","sameAs":["https://github.com/FIFCOM"]}</script>
</head><body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://blog.fifcom.cn/ accesskey=h title="FIFCOMå®éªŒå®¤ (Alt + H)">
<img src="https://fifcom.cn/avatar/?transparent=1" alt=logo aria-label=logo height=35>FIFCOMå®éªŒå®¤</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div><ul id=menu>
<li>
<a href=https://blog.fifcom.cn/tags/ title=æ ‡ç­¾>
<span>æ ‡ç­¾</span>
</a>
</li><li>
<a href=https://fifcom.cn/ title=ä¸»é¡µ>
<span>ä¸»é¡µ</span>
</a>
</li></ul></nav></header><main class=main>
<article class="first-entry home-info">
<header class=entry-header>
<h1>ğŸ¥°å¥½è€¶ï¼æ˜¯FIFCOM</h1></header><section class=entry-content>
<p>å’•â†’å’•â†‘å’•â†“â†‘å’•â†“</p></section><footer class=entry-footer>
<div class=social-icons>
<a href=https://github.com/FIFCOM target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a>
</div></footer></article><article class=post-entry>
<header class=entry-header>
<h2>Linux Shell è¯­æ³•(ä¸Š)
</h2></header><section class=entry-content>
<p>Hello World! #! /bin/bash
echo "Hello World!" ç¬¬ä¸€è¡Œæ˜¯æ³¨é‡Šï¼Œå£°æ˜ç”¨bashä½œä¸ºæ­¤è„šæœ¬çš„è§£é‡Šå™¨ã€‚æ³¨é‡Šåˆ†ä¸ºä¸¤ç§:
# å•è¡Œæ³¨é‡Š
:&lt;&lt;EOF
å¤šè¡Œ
æ³¨é‡Š
EOF
# å…¶ä¸­EOFå¯ä»¥æ›¿æ¢ä¸ºä»»æ„å­—ç¬¦ä¸² ç¬¬äºŒè¡Œçš„echoç”¨äºåœ¨æ§åˆ¶å°ä¸Šè¾“å‡ºå†…å®¹å¹¶è‡ªåŠ¨æ¢è¡Œã€‚å‡†ç¡®çš„è¯´ï¼Œechoä¼šè¾“å‡ºä¼ é€’ç»™å®ƒçš„æ‰€æœ‰å‚æ•°ï¼Œä»¥ç©ºæ ¼åˆ†éš”ã€‚ "Hello World!" æ˜¯å­—ç¬¦ä¸²ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚
ä¿å­˜åå¯ä»¥ä½¿ç”¨bash filename.shè¿è¡Œï¼Œæˆ–è€…:
chmod +x filename.sh # èµ‹äºˆå¯æ‰§è¡Œæƒé™
./hw.sh # ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶æ‰§è¡Œ å˜é‡ å®šä¹‰å¯å˜å˜é‡ v1=123
v2=123.4
v3=fifcom
v4="fifcom"
v5='fifcom'
declare v6=fifcom
# å˜é‡é»˜è®¤ä¸ºå­—ç¬¦ä¸²ï¼Œåœ¨ä½¿ç”¨æ—¶ä¼šæ ¹æ®éœ€æ±‚è‡ªåŠ¨è½¬æ¢ç±»å‹
# æ³¨æ„ï¼šå®šä¹‰å˜é‡æ—¶ç­‰å·çš„å·¦å³ä¸¤è¾¹ä¸å¯ä»¥æœ‰ç©ºæ ¼
# å¦åˆ™å¯èƒ½è¢«è§£æå™¨ä½œä¸ºç³»ç»Ÿå‘½ä»¤æ¥æ‰§è¡Œ å®šä¹‰åªè¯»å˜é‡ readonly v1="immut" # å®šä¹‰åªè¯»å˜é‡
v2="mut"
readonly v2 # è½¬æ¢ä¸ºåªè¯»å˜é‡
declare -r v3="immut" # å®šä¹‰åªè¯»å˜é‡ ä½¿ç”¨å˜é‡ ä½¿ç”¨å˜é‡éœ€è¦åŠ ä¸Š$æˆ–${}ç¬¦å·ã€‚ ${} å¯ä»¥å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡å
v1=fifcom
echo $v1 # è¾“å‡ºfifcom
echo ${v1} # è¾“å‡ºfifcom
echo ${v1}v1 # è¾“å‡ºfifcomv1 åˆ é™¤å˜é‡ ç”¨unsetåˆ é™¤å˜é‡ã€‚åªè¯»å˜é‡ä¸å¯åˆ é™¤ã€‚...</p></section><footer class=entry-footer><span title="2022-01-03 00:00:00 +0800 CST">January 3, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;FIFCOM</footer><a class=entry-link aria-label="post link to Linux Shell è¯­æ³•(ä¸Š)" href=https://blog.fifcom.cn/posts/linux-shell-manual-1/></a>
</article><article class=post-entry>
<header class=entry-header>
<h2>CF/YJS CDNä¸‹ä½¿ç”¨PHPè·å–å®¢æˆ·ç«¯çœŸå®IPåœ°å€
</h2></header><section class=entry-content>
<p>æ‰“å°ä¸€ä¸‹$_SERVER
&lt;?php
echo json_encode($_SERVER, JSON_UNESCAPED_UNICODE);
?> æœ‰è¿™å‡ é¡¹å€¼å¾—æ³¨æ„
"HTTP_X_FORWARDED_FOR":"[YOUR_IP]",
"HTTP_CF_IPCOUNTRY":"[YOUR_COUNTRY]",
"HTTP_CF_CONNECTING_IP":"[YOUR_IP]",
"HTTP_CDN_LOOP":"cloudflare", å³ `$_SERVER["HTTP_X_FORWARDED_FOR"]` å°±æ˜¯å®¢æˆ·ç«¯çš„çœŸå®IPåœ°å€
å¦å¤–ä¸æ”¯æŒIPv6çš„æœåŠ¡å™¨ä¹Ÿå¯ä»¥é€šè¿‡ $_SERVER["HTTP_X_FORWARDED_FOR"] æ¥è·å–å®¢æˆ·ç«¯çš„IPv6åœ°å€
è‡ªåŠ¨æ ¹æ®æƒ…å†µè·å–IP:
$ip = isset($_SERVER['HTTP_X_FORWARDED_FOR']) && $_SERVER['HTTP_X_FORWARDED_FOR'] != "" ? $_SERVER['HTTP_X_FORWARDED_FOR'] : $_SERVER['REMOTE_ADDR']; </p></section><footer class=entry-footer><span title="2021-11-27 00:00:00 +0800 CST">November 27, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;FIFCOM</footer><a class=entry-link aria-label="post link to CF/YJS CDNä¸‹ä½¿ç”¨PHPè·å–å®¢æˆ·ç«¯çœŸå®IPåœ°å€" href=https://blog.fifcom.cn/posts/cloud-cf-yjs-cdn-get-remote-addr/></a>
</article><article class=post-entry>
<header class=entry-header>
<h2>nginx åä»£è§£å†³CORSé—®é¢˜
</h2></header><section class=entry-content>
<p>åŒæºç­–ç•¥è§„å®šï¼Œæµè§ˆå™¨çš„ajaxåªèƒ½è®¿é—®è·Ÿå®ƒçš„HTMLé¡µé¢åŒæºï¼ˆç›¸åŒåŸŸåæˆ–IPï¼‰çš„èµ„æºã€‚
ä½¿ç”¨ajaxæ—¶å®¹æ˜“é‡åˆ°è·¨åŸŸé—®é¢˜
å°±åƒè¿™æ ·
æœ€å¥½çš„æ–¹æ³•è‡ªç„¶æ˜¯ä¿®æ”¹æœåŠ¡ç«¯ä»£ç ï¼Œå¦‚phpé‡Œçš„
header("Access-Control-Allow-Origin: blog.fifcom.cn"); // å…è®¸æŒ‡å®šåŸŸåè·¨åŸŸ
header("Access-Control-Allow-Origin: *"); // å…è®¸ä»»æ„åŸŸåè·¨åŸŸ ä¸è¿‡æœ‰æ—¶å€™æ— æ³•ä¿®æ”¹æœåŠ¡ç«¯ä»£ç ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨ nginx åä»£æ¥è§£å†³äº†ã€‚ç¼–è¾‘ nginx.conf å¹¶æ·»åŠ ï¼š
server {
listen 443 ssl;
# listen 80; # å¦‚ä¸ºhttpåˆ™ç›‘å¬80
ssl on;
ssl_certificate /path/pub.crt; #sslè¯ä¹¦
ssl_certificate_key /path/pri.key;#sslç§é’¥
ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
ssl_ciphers HIGH:!aNULL:!MD5;
server_name example-proxy.fifcom.cn; #ä½ çš„åä»£åŸŸå
location / {
proxy_pass https://example.fifcom.cn; # è¢«ä»£ç†çš„åŸŸå(æºç«™)
proxy_http_version 1.1;
# proxy_set_header Referer https://example.fifcom.cn; # æºç«™æ£€æµ‹refereræ—¶éœ€åŠ ä¸Š
# ä¸€äº›å…¶ä»–è®¾ç½®
proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header REMOTE-HOST $remote_addr;
proxy_buffering off; proxy_cache off;
proxy_set_header X-Forwarded-Proto $scheme;
add_header X-Cache $upstream_cache_status;
add_header Access-Control-Allow-Methods *; # å…è®¸æ‰€æœ‰è·¨åŸŸæ–¹æ³•
add_header Access-Control-Max-Age 3600; # ç¼“å­˜,å¦åˆ™ä¼šå‘é€ä¸¤æ¬¡è¯·æ±‚
# add_header Access-Control-Allow-Credentials true; # è¯·æ±‚åŒ…å«cookieæ—¶è¦å¼€å¯
add_header Access-Control-Allow-Origin $http_origin;
# å…è®¸å®¢æˆ·ç«¯è·¨åŸŸ,ä¸ç”¨*æ˜¯å› ä¸ºè¯·æ±‚åŒ…å«cookieæ—¶ä¸æ”¯æŒå…è®¸æ‰€æœ‰
add_header Access-Control-Allow-Headers $http_access_control_request_headers; # è‡ªåŠ¨é…ç½®å…è®¸çš„header
if ($request_method = OPTIONS){
return 200;
# åˆ¤æ–­è¯·æ±‚ç±»å‹æ˜¯å¦ä¸ºé¢„æ£€å‘½ä»¤
}
proxy_set_header Host example....</p></section><footer class=entry-footer><span title="2021-11-27 00:00:00 +0800 CST">November 27, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;FIFCOM</footer><a class=entry-link aria-label="post link to nginx åä»£è§£å†³CORSé—®é¢˜" href=https://blog.fifcom.cn/posts/cloud-nginx-reverse-proxy-allow-cors/></a>
</article><article class=post-entry>
<header class=entry-header>
<h2>åœ¨Debian10ä¸Šå®‰è£…AdoptOpenJDK16
</h2></header><section class=entry-content>
<p>é¦–å…ˆå¸è½½æ‰è‡ªå¸¦çš„openjdk
apt-get remove openjdk*
apt-get purge openjdk* å†é…ç½®ä¸€ä¸‹æº
ä¿¡ä»»GnuPGå…¬é’¥ wget -qO - https://adoptopenjdk.jfrog.io/adoptopenjdk/api/gpg/key/public | sudo apt-key add - åœ¨/etc/apt/sources.list.d/AdoptOpenJDK.listé‡Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š deb http://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/deb buster main (ç¼–è¾‘å™¨å¯ä»¥ç”¨vim : vi /etc/apt/sources.list.d/AdoptOpenJDK.list ,æ·»åŠ å®Œæˆåè¾“å…¥ :wq! é€€å‡º)
æ›´æ–°apt sudo apt-get update ä¸‹è½½å¹¶å®‰è£… AdoptOpenJDK 16 sudo apt install adoptopenjdk-16-openj9 å®Œæˆï¼
å‚è€ƒ AdoptOpenJDK é•œåƒä½¿ç”¨å¸®åŠ©
</p></section><footer class=entry-footer><span title="2021-07-06 00:00:00 +0800 CST">July 6, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;FIFCOM</footer><a class=entry-link aria-label="post link to åœ¨Debian10ä¸Šå®‰è£…AdoptOpenJDK16" href=https://blog.fifcom.cn/posts/linux-install-jdk16-at-debian10/></a>
</article></main><footer class=footer>
<span>&copy; 2022 <a href=https://blog.fifcom.cn/>FIFCOMå®éªŒå®¤</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script>
</body></html>